name: Create Issue from Kanban

on:
  workflow_dispatch: # This allows you to manually trigger the workflow
  issues:
    types:
      - opened # Trigger when a new issue is created

jobs:
  create-issue:
    runs-on: ubuntu-latest
    steps:
      - name: Create Issue Using Template
        uses: actions/github-script@v6
        with:
          script: |
            const github = require('@actions/github');
            const context = github.context;

            // Fetch the new issue details
            const { payload } = context;
            const issueNumber = payload.issue.number;

            // Update the issue body with your template content
            const updatedBody = `
## ğŸ¯ Slack Link
[Provide the relevant Slack thread or channel link.]

## ğŸ¨ Figma Link
[Link to the Figma design or prototype.]

## ğŸ”— Other Reference Links
[Include additional reference links.]

### ğŸ—’ï¸ Brief Overview
_As a [type of user], I want [goal/feature], so that [reason/benefit]._

### âœ… Acceptance Criteria
- [ ] Define the conditions for completion.

### ğŸ“‹ Additional Notes
Add any other relevant information.
`;

            // Update the issue with the template content
            await github.rest.issues.update({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: issueNumber,
              body: updatedBody
            });
