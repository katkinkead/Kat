name: Create Issue from Kanban

on:
  issues:
    types:
      - opened # Trigger when a new issue is created
  workflow_dispatch: # Allows manual triggering of the workflow

jobs:
  create-issue:
    runs-on: ubuntu-latest
    steps:
      - name: Set up GitHub Script
        uses: actions/github-script@v6
        with:
          script: |
            const github = require('@actions/github');
            const context = github.context;

            const issueNumber = context.payload.issue.number;
            const issueBody = `
## 🎯 Slack Link
[Provide the relevant Slack thread or channel link.]

## 🎨 Figma Link
[Link to the Figma design or prototype.]

## 🔗 Other Reference Links
[Include additional reference links.]

### 🗒️ Brief Overview
_As a [type of user], I want [goal/feature], so that [reason/benefit]._

### ✅ Acceptance Criteria
- [ ] Define the conditions for completion.

### 📋 Additional Notes
Add any other relevant information.
`;

            // Update the issue with the issue template content
            await github.rest.issues.update({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: issueNumber,
              body: issueBody
            });
